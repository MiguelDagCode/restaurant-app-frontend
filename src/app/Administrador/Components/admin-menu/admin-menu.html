<div class="d-flex" id="wrapper">
  
  <aside class="bg-white border-end" id="sidebar-wrapper">
    <div class="sidebar-heading text-center py-4 primary-text fs-4 fw-bold text-uppercase border-bottom">
      <i class="bi bi-bicycle me-2"></i>Deli<span class="text-orange">Fast</span> 
      <span class="badge bg-orange-light text-orange ms-2 fs-6">Admin</span>
    </div>

    <div class="list-group list-group-flush my-3">
      <small class="text-muted fw-bold px-3 mb-2 text-uppercase" style="font-size: 0.75rem;">Inventario</small>
      
      <a routerLink="/admin-menu" class="list-group-item list-group-item-action bg-transparent active-link fw-bold">
        <i class="bi bi-grid me-2"></i>Inicio
      </a>
      <a href="#" class="list-group-item list-group-item-action bg-transparent fw-medium">
        <i class="bi bi-basket me-2"></i>Insumos / Productos
      </a>
      <a href="#" class="list-group-item list-group-item-action bg-transparent fw-medium">
        <i class="bi bi-exclamation-triangle me-2"></i>Verificar Stock
      </a>
      <a href="#" class="list-group-item list-group-item-action bg-transparent fw-medium">
        <i class="bi bi-cart me-2"></i>Órdenes de Compra
      </a>

      <small class="text-muted fw-bold px-3 mb-2 mt-4 text-uppercase" style="font-size: 0.75rem;">Administración</small>
      
      <a href="#" class="list-group-item list-group-item-action bg-transparent fw-medium">
        <i class="bi bi-people me-2"></i>Usuarios
      </a>
      <a href="#" class="list-group-item list-group-item-action bg-transparent fw-medium">
        <i class="bi bi-shield-lock me-2"></i>Roles
      </a>
    </div>

    <div class="sidebar-footer mt-auto p-3 border-top">
      <div class="d-flex align-items-center mb-2">
        <div class="small fw-bold text-truncate">{{ adminEmail }}</div>
      </div>
      <button (click)="logout()" class="btn btn-sm btn-outline-danger w-100">
        <i class="bi bi-box-arrow-left me-2"></i>Cerrar Sesión
      </button>
    </div>
  </aside>

  <div id="page-content-wrapper" class="w-100 bg-light-gray">
    
    <nav class="navbar navbar-expand-lg navbar-light bg-transparent py-4 px-4">
      <div class="d-flex align-items-center">
        <i class="bi bi-layout-sidebar me-3 fs-4 text-muted d-lg-none"></i>
        <h2 class="fs-5 fw-bold mb-0 text-dark">Sistema de Control de Inventario</h2>
      </div>
    </nav>

    <div class="container-fluid px-4">
      
      <div class="p-4 rounded-3 text-white mb-4 bg-gradient-orange shadow-sm position-relative overflow-hidden">
        <div class="position-relative z-1">
          <h2 class="fw-bold">Bienvenido, {{ adminEmail }} </h2>
          <p class="mb-0 opacity-75">Panel de Control de Inventario — Resumen del día</p>
        </div>
        <i class="bi bi-egg-fried position-absolute top-50 end-0 translate-middle-y opacity-25" style="font-size: 8rem; right: -20px !important;"></i>
      </div>

      <div class="row g-3 mb-4">
        <div class="col-md-3" *ngFor="let stat of stats">
          <div class="card border-0 shadow-sm h-100 rounded-3">
            <div class="card-body p-3">
              <div class="d-flex justify-content-between align-items-start mb-2">
                <div class="text-orange bg-orange-light p-2 rounded-3">
                  <i class="bi {{stat.icon}} fs-5"></i>
                </div>
                <span class="badge bg-success-light text-success rounded-pill" *ngIf="stat.trendUp">
                  {{ stat.trend }} <i class="bi bi-arrow-up-short"></i>
                </span>
              </div>
              <h3 class="fw-bold mb-0 text-dark">{{ stat.value }}</h3>
              <p class="text-muted small mb-0">{{ stat.title }}</p>
            </div>
          </div>
        </div>
      </div>

      <div class="row g-4 mb-5">
        
        <div class="col-lg-5">
          <div class="card border-0 shadow-sm rounded-3 h-100">
            <div class="card-header bg-white border-0 py-3">
              <h5 class="mb-0 fw-bold text-dark"><i class="bi bi-exclamation-triangle text-warning me-2"></i>Alertas de Stock</h5>
            </div>
            <div class="card-body p-0">
              <div class="list-group list-group-flush">
                <div class="list-group-item d-flex justify-content-between align-items-center py-3 px-4" *ngFor="let item of stockAlerts">
                  <div>
                    <h6 class="mb-0 fw-bold text-dark">{{ item.product }}</h6>
                    <small class="text-muted">Stock: {{ item.current }} / Mín: {{ item.min }}</small>
                  </div>
                  <span class="badge rounded-pill px-3 py-2" 
                    [ngClass]="item.status === 'Crítico' ? 'bg-danger-light text-danger' : 'bg-warning-light text-warning'">
                    {{ item.status }}
                  </span>
                </div>
              </div>
            </div>
          </div>
        </div>

        <div class="col-lg-7">
          <div class="card border-0 shadow-sm rounded-3 h-100">
            <div class="card-header bg-white border-0 py-3">
              <h5 class="mb-0 fw-bold text-dark"><i class="bi bi-cart-check text-orange me-2"></i>Órdenes de Compra Recientes</h5>
            </div>
            <div class="card-body p-0">
               <div class="list-group list-group-flush">
                <div class="list-group-item d-flex justify-content-between align-items-center py-3 px-4" *ngFor="let order of recentOrders">
                  <div>
                    <div class="d-flex align-items-center gap-2">
                       <h6 class="mb-0 fw-bold text-dark">{{ order.id }}</h6>
                       <span class="text-muted small">— {{ order.supplier }}</span>
                    </div>
                    <small class="text-muted">{{ order.items }} insumos · ${{ order.total }}</small>
                  </div>
                  <span class="badge rounded-pill px-3 py-2" 
                    [ngClass]="{
                      'bg-success-light text-success': order.status === 'Enviado',
                      'bg-warning-light text-warning': order.status === 'Sugerido',
                      'bg-orange-light text-orange': order.status === 'Aprobado'
                    }">
                    {{ order.status }}
                  </span>
                </div>
               </div>
            </div>
          </div>
        </div>

      </div>

    </div>
  </div>
</div>